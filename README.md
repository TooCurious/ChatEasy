# ChatEasy ‚Äî –ü—Ä–æ—Å—Ç–æ–π —á–∞—Ç —Å —É–º–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –µ–¥–∏–Ω—ã–º POST-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–º `/chat`, –∫–æ—Ç–æ—Ä–æ–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º –Ω–∞ –±–∞–∑–µ **Dify**, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API**, **tool calling** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–∫–∞–∑–∞—Ö –∏ **–≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ FAQ**. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç—É—é HTML/JS-—Å—Ç—Ä–∞–Ω–∏—Ü—É, –æ–±—â–∞—é—â—É—é—Å—è —Ç–æ–ª—å–∫–æ —Å `/chat`.

---

## üß† –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—Ä–∏—ë–º —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{ "message": "..." }`
- –í–æ–∑–≤—Ä–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{ "reply": "..." }`
- –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º:
  - **LLM**: `gpt-3.5-turbo` —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ [OpenRouter](https://openrouter.ai)
  - **Embedding-–º–æ–¥–µ–ª—å**: `nomic-embed-text` —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ [Ollama](https://ollama.com/) –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –±–∞–∑–µ FAQ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∏ —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
  - **Tool calling**: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ [FastMCP](https://github.com/ibm/fastmcp) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–æ–≤
  - **–ê–≥–µ–Ω—Ç**: —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω –≤ [Dify](https://github.com/langgenius/dify)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**

```bash
git clone https://github.com/your-username/ChatEasy.git

cd ChatEasy/app
cp .env.example .env
```

2. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Dify**
   
```bash
git clone https://github.com/langgenius/dify.git

cd dify
cd docker
cp .env.example .env
```

3. **–í—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã APP –∏ MCP –≤ Dify**
   
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Docker Compose —Ç–∞–∫, —á—Ç–æ–±—ã —Å–µ—Ä–≤–∏—Å—ã `app` –∏ `mcp` –±—ã–ª–∏ –≤ —Ç–æ–π –∂–µ —Å–µ—Ç–∏, —á—Ç–æ –∏ Dify
   - –î–ª—è —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤ mcp/docker-compose.yaml, app/docker-compose.yaml –≤ —Ñ–∞–π–ª dify/docker/docker-compose-template.yaml
   - C–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π docker-compose.yaml –∑–∞–ø—É—Å—Ç–∏–≤ —Å–∫—Ä–∏–ø—Ç
```bash
./generate_docker_compose
```
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ
```bash
docker-compose up -d
```
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å
```bash
docker ps -a
```
  - –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ UI dify localhost/app, —Å–æ–∑–¥–∞–π—Ç–µ –∞–≥–µ–Ω—Ç–∞, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ –Ω–µ–º—É –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—É—é LLM –æ—Ç OpenRouter –∏ MCP
  - 
4. **–í—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å Ollama –≤ Dify**
    
  - –î–ª—è —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ ollama/docker-compose.yaml –≤ —Ñ–∞–π–ª dify/docker/docker-compose-template.yaml
  - —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π docker-compose.yaml –∑–∞–ø—É—Å—Ç–∏–≤ —Å–∫—Ä–∏–ø—Ç
```bash
./generate_docker_compose
```
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ
```bash
docker-compose up --build -d
```
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å
```bash
docker ps -a
```
  - –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å
```bash
docker compose exec ollama ollama pull nomic-embed-text
```
  - –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ UI dify, –¥–æ–±–∞–≤—å—Ç–µ embeded-–º–æ–¥–µ–ª—å, —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ RAG –∫ –∞–≥–µ–Ω—Ç—É

## üõ†Ô∏è –ë–ª–∏–∂–∞–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–í –±–ª–∏–∂–∞–π—à–∏—Ö —Ä–µ–ª–∏–∑–∞—Ö –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è:

## üí° –ò–∑–º–µ–Ω–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
‚Üí –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–µ–¥–∏–Ω—ã–π –∫–æ—Ä–Ω–µ–≤–æ–π `docker-compose.yml`**, –≥–¥–µ Dify, FastAPI, MCP –∏ Ollama ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –æ–±—â–µ–π —Å–µ—Ç–∏. 

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ JWT –∏–ª–∏ —Å–µ—Å—Å–∏–π.
- –•—Ä–∞–Ω–µ–Ω–∏–µ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∑–∞—â–∏—â—ë–Ω–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL).
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ API.

### üóÑÔ∏è –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è:
  - –£—á—ë—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (email, —Ö—ç—à –ø–∞—Ä–æ–ª—è, —Ä–æ–ª—å).
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–∫–∞–∑–∞—Ö (–Ω–æ–º–µ—Ä, —Å—Ç–∞—Ç—É—Å, –¥–∞—Ç–∞ –∏ —Ç.–¥.), –ø–æ–ª—É—á–∞–µ–º–æ–π —á–µ—Ä–µ–∑ MCP.

### ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –∫–∞–∫ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏
- –í—ã–Ω–æ—Å –≤—Å–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π Nginx-–ø—Ä–æ–∫—Å–∏ –Ω–∞ –ø–æ—Ä—Ç—É 80/443.
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è **—Ç–æ–ª—å–∫–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ `/chat`** –Ω–∞—Ä—É–∂—É, –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–∏ Dify, MCP –∏ Ollama –≤–Ω—É—Ç—Ä–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π Docker-—Å–µ—Ç–∏.
---
